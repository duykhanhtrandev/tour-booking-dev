doctype html
head
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
  title Qu·∫£n l√Ω ng∆∞·ªùi d√πng
  link(rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto|Varela+Round')
  link(rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css')
  link(rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons')
  link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css')
  link(rel='shortcut icon' type='image/png' href='/img/favicon.png')
  link(rel="stylesheet", href="/css/style.css")
  link(rel="stylesheet", href="/css/custom.css")
  script(src='https://code.jquery.com/jquery-3.5.1.min.js')
  script(src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js')
  script(src='https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js')
  script.
    $(document).ready(function(){
    // Activate tooltip
    $('[data-toggle="tooltip"]').tooltip();
    // Select/Deselect checkboxes
    var checkbox = $('table tbody input[type="checkbox"]');
    $("#selectAll").click(function(){
    if(this.checked){
    checkbox.each(function(){
    this.checked = true;
    });
    } else{
    checkbox.each(function(){
    this.checked = false;
    });
    }
    });
    checkbox.click(function(){
    if(!this.checked){
    $("#selectAll").prop("checked", false);
    }
    });
    });
header.header
    nav.nav.nav--tours
        a.nav__el(href='/') Trang ch·ªß
    .header__logo
        img(src='/img/logo-white.png' alt='Tour Booking logo')
    nav.nav.nav--user
        if user
            a.nav__el(href='/me')
                if user.photo
                    img.nav__user-img(src=`/img/users/${user.photo}` alt=`·∫¢nh c·ªßa ${user.name}`)
                else
                    - const fNameInitial = user.name[0]
                    - const lNameInitial = user.name.split(' ')[user.name.split(' ').length-1][0]
                    .avatar-circle 
                        span.initials= `${fNameInitial}${lNameInitial}`    
                span= user.name.split(' ').slice(-2).join(' ')
            a.nav__el.nav__el--logout ƒêƒÉng xu·∫•t
        else
            a.nav__el(href='/login') ƒêƒÉng Nh·∫≠p
            a.nav__el.nav__el--cta(href='/signup') ƒêƒÉng K√Ω
- if (user.role === 'admin')
  .container-xl
    .table-responsive
      .table-wrapper
        .table-title
          .row
            .col-sm-6
              h2
                | Qu·∫£n l√Ω 
                b Ng∆∞·ªùi d√πng
            .col-sm-6
              a.btn.btn-addNewUser(href='#addEmployeeModal' data-toggle='modal')
                i.material-icons &#xE147;
                span Th√™m t√†i kho·∫£n m·ªõi
        table.table.table-striped.table-hover
          thead
            tr
              th
                span.custom-checkbox
                  input#selectAll(type='checkbox')
                  label(for='selectAll')
              th T√™n
              th Email
              th ·∫¢nh
              th Quy·ªÅn truy c·∫≠p
              th Tr·∫°ng th√°i
              th Actions
          tbody
            each user in users
              tr
                td
                  span.custom-checkbox
                    input#checkbox1(type='checkbox' name='options[]' value='1')
                    label(for='checkbox1')
                td= user.name
                td= user.email
                td
                    img.user-img(src=`/img/users/${user.photo}` alt='' height='60' width='60')
                td= user.role
                - if (user.active === true)
                  td Active
                - else
                  td Inactive
                td
                  a.edit(href='#editEmployeeModal' data-toggle='modal')
                    i.material-icons(data-toggle='tooltip' title='Edit') &#xE254;
                  a.delete(data-id=`${user._id}` href='#deleteEmployeeModal' data-toggle='modal')
                    i.material-icons(data-toggle='tooltip' title='Delete') &#xE872;
        .clearfix
          ul.pagination
            li.page-item.disabled
              a(href='#') Tr∆∞·ªõc
            li.page-item.active
              a.page-link(href='#') 1
            li.page-item
              a.page-link(href='#') 2
            li.page-item
              a.page-link(href='#') 3
            li.page-item
              a.page-link(href='#') 4
            li.page-item
              a.page-link(href='#') 5
            li.page-item
              a.page-link(href='#') Ti·∫øp theo
  // Edit Modal HTML
  #addEmployeeModal.modal.fade
    .modal-dialog
      .modal-content
        form
          .modal-header
            h4.modal-title Th√™m t√†i kho·∫£n
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
          .modal-body
            .form-group
              label T√™n
              input.form-control(type='text' required='')
            .form-group
              label ƒê·ªãa ch·ªâ email
              input.form-control(type='email' required='')
            .form-group
              label Quy·ªÅn truy c·∫≠p
              select#exampleFormControlSelect1.form-control
                  option user
                  option guide
                  option lead-guide
                  option admin
            .form-group
              label M·∫≠t kh·∫©u
              input.form-control(type='password' required='')
          .modal-footer
            input.btn.btn-default(type='button' data-dismiss='modal' value='Cancel')
            input.btn.btn-success(type='submit' value='Add')
  // Edit Modal HTML
  #editEmployeeModal.modal.fade
    .modal-dialog
      .modal-content
        form
          .modal-header
            h4.modal-title Ch·ªânh s·ª≠a th√¥ng tin ng∆∞·ªùi d√πng
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
          .modal-body
            .form-group
              label T√™n
              input.form-control(type='text' required='' value=`${user.name}`)
            .form-group
              label Email
              input.form-control(type='email' required='' value=`${user.email}`)
            .form-group
              label Quy·ªÅn truy c·∫≠p
                select#exampleFormControlSelect1.form-control
                  option user
                  option guide
                  option lead-guide
                  option admin
            .form-group
              label M·∫≠t kh·∫©u
              input.form-control(type='password' required='' minlength="8" maxlength="20")
          .modal-footer
            input.btn.btn-default(type='button' data-dismiss='modal' value='H·ªßy')
            input.btn.btn-info(type='submit' value='L∆∞u')
  // Delete Modal HTML
  #deleteEmployeeModal.modal.fade
    .modal-dialog
      .modal-content
        form
          .modal-header
            h4.modal-title X√≥a t√†i kho·∫£n
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
          .modal-body
            p B·∫°n c√≥ ch·∫Øc ch·∫Øn x√≥a ng∆∞·ªùi d√πng n√†y kh√¥ng?
            p.text-warning
              small H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ƒë∆∞·ª£c ho√†n t√°c.
          .modal-footer
            input.btn.btn-default(type='button' data-dismiss='modal' value='H·ªßy')
            input.btn.btn-danger(type='submit' value='X√≥a')
- else
    main.main
    .error
      .error__title
        h2.heading-secondary.heading-secondary--error 404
        h2.error__emoji Kh√¥ng t√¨m th·∫•y trang! üò¢ ü§Ø
      .error__msg= msg
footer.footer
    .footer__logo
        img(src='/img/logo-green.png' alt='Tour Booking')
    ul.footer__nav
        li: a(href='#') V·ªÅ ch√∫ng t√¥i
        li: a(href='#') T·∫£i apps
        li: a(href='#') Tr·ªü th√†nh h∆∞·ªõng d·∫´n vi√™n c·ªßa ch√∫ng t√¥i
        li: a(href='#') C∆° h·ªôi ngh·ªÅ nghi·ªáp
        li: a(href='#') Li√™n h·ªá
    p.footer__copyright &copy; B·∫£n quy·ªÅn thu·ªôc v·ªÅ Tr·∫ßn Duy Kh√°nh 18CN2. Vui l√≤ng ch·ªâ s·ª≠ d·ª•ng d·ª± √°n n√†y cho c√°c m·ª•c ƒë√≠ch c√° nh√¢n!
